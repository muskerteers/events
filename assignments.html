<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
</head>
<body>

<div class="row">
    <div class="container">
        <form>
            <div class="form-group">
                <label for="fname">First Name</label>
                <input type="text" class="form-control" id="fname" placeholder="Enter First Name"
                       onkeyup="fnameIsValid()">
                <small id="fname_message"></small>
            </div>

            <div class="form-group">
                <label for="lname">Last Name</label>
                <input type="text" class="form-control" id="lname" placeholder="Last Name" onkeyup="lnameIsValid()">
                <small id="lname_message"></small>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" placeholder="Email" onkeyup="emailIsValid()">
                <small id="email_message"></small>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" placeholder="Password"
                       onkeyup="passwordIsValid()">
                <small id="password_message"></small>
            </div>

            <div class="form-group">
                <label for="cpassword">Confirm Password</label>
                <input type="password" class="form-control" id="cpassword" placeholder="Confirm Password">
                <small id="cpassword_message"></small>
            </div>


            <button type="submit" class="btn btn-primary" id="register">Register</button>
        </form>
    </div>
</div>


<script type="text/javascript">
    let goodColor = 'green';
    let badColor = 'red';
    let submitButton = document.querySelector('#register');

    function fnameIsValid() {
        let fname = document.querySelector("#fname");
        let message = document.getElementById('fname_message');

        if (fname.value.length < 3) {
            message.innerText = 'First Name is Too short';
            message.style.color = badColor;
            fname.style.borderColor = badColor;
            submitButton.setAttribute('disabled', 'true');
        } else {
            message.innerText = 'First Name is valid';
            message.style.color = goodColor;
            fname.style.borderColor = goodColor;
            submitButton.setAttribute('disabled', 'false');

        }
    }

    function lnameIsValid() {
        let lname = document.querySelector("#lname");
        let message = document.getElementById('lname_message');

        if (lname.value.length < 3) {
            message.innerText = 'Last Name is Too short';
            message.style.color = badColor;
            lname.style.borderColor = badColor;
            submitButton.setAttribute('disabled', 'true');

        } else {
            message.innerText = 'Last Name is valid';
            message.style.color = goodColor;
            lname.style.borderColor = goodColor;
            submitButton.setAttribute('disabled', 'false');

        }
    }

    function validateEmail(email) {
        const emailRegex = /^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i;
        return emailRegex.test(String(email).toLowerCase());
    }

    function emailIsValid() {
        let email = document.querySelector("#email"),
            message = document.querySelector("#email_message");

        if (!validateEmail(email.value)) {
            message.innerText = 'Email is not valid';
            message.style.color = badColor;
            email.style.borderColor = badColor;
            submitButton.setAttribute('disabled', 'true');
        } else {
            message.innerText = 'Email is valid';
            message.style.color = goodColor;
            email.style.borderColor = goodColor;
            submitButton.setAttribute('disabled', 'false');
        }
    }

    function validatePassword(password) {
        const passwordRegex = /^(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/;
        return passwordRegex.test(password);
    }

    function passwordIsValid() {
        let password = document.querySelector("#password"),
            message = document.querySelector("#password_message");

        if (!validatePassword(password.value)) {
            message.innerText = 'Password is not valid: Password must contain at least one small case character, one uppercase character, one special character and one numeric character and must be at least 8 character long';
            message.style.color = badColor;
            password.style.borderColor = badColor;
            submitButton.setAttribute('disabled', 'true');
        } else {
            message.innerText = 'Password is valid';
            message.style.color = goodColor;
            password.style.borderColor = goodColor;
            submitButton.setAttribute('disabled', 'false');

        }
    }

</script>
</body>
</html>